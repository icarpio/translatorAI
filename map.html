<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mapa de Frankfurt: Monumentos y Atracciones</title>

  <!-- Leaflet CSS -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
    crossorigin=""
  />

  <style>
    :root{--brand:#0d6efd;}
    html, body { height: 100%; margin: 0; }
    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; }
    header {
      padding: 10px 16px;
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 12px;
      align-items: center;
      border-bottom: 1px solid #e9ecef;
    }
    .brand {
      display:flex; align-items:center; gap:12px;
    }
    .brand img { height: 48px; width: auto; }
    .brand h1 { font-size: 18px; margin: 0; font-weight: 600; }
    .actions a {
      display:inline-block; padding:8px 12px; text-decoration:none; color:white; background:var(--brand); border-radius:8px;
    }
    #map { height: calc(100vh - 60px); }
    /* Pop-up tweaks */
    .poi-title { font-weight: 700; margin: 0 0 4px; }
    .poi-desc  { margin: 0 0 8px; font-size: 0.95rem; }
    .poi-link  { display:inline-block; padding:6px 10px; background:#198754; color:#fff; border-radius:6px; text-decoration:none; }
    .poi-link:hover { filter: brightness(0.95); }
    /* Legend */
    .legend {
      position: absolute; z-index: 999; right: 12px; top: 72px;
      background: #fff; border: 1px solid #e5e7eb; border-radius: 10px; padding: 10px 12px;
      box-shadow: 0 6px 24px rgba(0,0,0,.08);
      max-width: 260px; font-size: 14px;
    }
    .legend h3 { margin: 0 0 6px; font-size: 14px; }
    .legend ul { margin: 0; padding-left: 18px; max-height: 230px; overflow:auto; }
    .legend li { margin: 4px 0; }
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <!-- Cambia la imagen si quieres tu logo -->
      <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8a/Coat_of_arms_of_Frankfurt_am_Main.svg/120px-Coat_of_arms_of_Frankfurt_am_Main.svg.png" alt="Frankfurt" />
      <h1>Mapa de Frankfurt: atracciones principales</h1>
    </div>
    <div class="actions">
      <a href="index.html">‚¨Ö Volver al inicio</a>
    </div>
  </header>

  <div id="map"></div>

  <div class="legend" id="legend">
    <h3>üéØ Atracciones incluidas</h3>
    <ul id="legend-list"></ul>
  </div>

  <!-- Leaflet JS -->
  <script
    src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
    crossorigin=""
  ></script>

  <script>
    // Centro aproximado de Frankfurt
    const map = L.map('map', { scrollWheelZoom: true }).setView([50.1106, 8.6821], 13);

    // Capa base (OpenStreetMap)
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      maxZoom: 19,
      attribution: '&copy; OpenStreetMap contributors'
    }).addTo(map);

    // Lista de atracciones (coordenadas aproximadas y textos breves)
    // Puedes ajustar/a√±adir m√°s si lo deseas.

    //ESTO SERIA LO QUE DEVOLVERIA OPENAI
    const POIS = [
      {
        name: "R√∂merberg & R√∂mer (Ayuntamiento)",
        coords: [50.11028, 8.68167], // R√∂mer
        desc: "La plaza hist√≥rica del casco antiguo y el ic√≥nico ayuntamiento g√≥tico.",
      },
      {
        name: "Catedral de Fr√°ncfort (Kaiserdom)",
        coords: [50.1109, 8.6863],
        desc: "Catedral g√≥tica de San Bartolom√©; sede de coronaciones imperiales.",
      },
      {
        name: "Puente Eiserner Steg",
        coords: [50.1083, 8.6829],
        desc: "Pasarela peatonal con vistas al skyline y al Museumsufer.",
      },
      {
        name: "Main Tower (mirador)",
        coords: [50.1116, 8.6732],
        desc: "Rascacielos con plataforma panor√°mica sobre la ciudad.",
      },
      {
        name: "St√§del Museum",
        coords: [50.1017, 8.6709],
        desc: "Una de las pinacotecas m√°s importantes de Alemania, en el Museumsufer.",
      },
      {
        name: "Alte Oper (Antigua √ìpera)",
        coords: [50.1156, 8.6738],
        desc: "Sala de conciertos neorrenacentista y emblem√°tica plaza Opernplatz.",
      },
      {
        name: "Casa de Goethe",
        coords: [50.1111, 8.6753],
        desc: "Casa natal de Johann Wolfgang von Goethe y peque√±o museo.",
      },
      {
        name: "Palmengarten",
        coords: [50.1235, 8.6507],
        desc: "Jard√≠n bot√°nico con invernaderos y zonas tem√°ticas.",
      },
      {
        name: "Museo Senckenberg",
        coords: [50.1177, 8.6512],
        desc: "Museo de Historia Natural, famoso por su colecci√≥n de dinosaurios.",
      },
      {
        name: "Paulskirche (Iglesia de San Pablo)",
        coords: [50.1102, 8.6805],
        desc: "S√≠mbolo de la democracia alemana; sede del primer parlamento en 1848.",
      },
      {
        name: "Kleinmarkthalle",
        coords: [50.1107, 8.6836],
        desc: "Mercado cubierto ideal para probar productos locales.",
      }
    ];

    // Icono base
    const poiIcon = L.icon({
      iconUrl: "https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png",
      iconRetinaUrl: "https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png",
      shadowUrl: "https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png",
      iconSize: [25, 41],
      iconAnchor: [12, 41],
      popupAnchor: [1, -28],
      shadowSize: [41, 41]
    });

    // A√±adir marcadores y construir bounds/leyenda
    const bounds = [];
    const legendList = document.getElementById('legend-list');

    POIS.forEach(p => {
      const [lat, lng] = p.coords;
      bounds.push([lat, lng]);

      // Enlace para c√≥mo llegar (abre Google Maps)
      const mapsLink = `https://www.google.com/maps/dir/?api=1&destination=${lat},${lng}`;

      const popupHtml = `
        <p class="poi-title">${p.name}</p>
        <p class="poi-desc">${p.desc}</p>
        <a class="poi-link" target="_blank" rel="noopener" href="${mapsLink}">C√≥mo llegar</a>
      `;

      L.marker([lat, lng], { icon: poiIcon }).addTo(map).bindPopup(popupHtml);

      const li = document.createElement('li');
      li.textContent = p.name;
      legendList.appendChild(li);
    });

    // Ajustar mapa a todos los puntos
    if (bounds.length) {
      map.fitBounds(bounds, { padding: [30, 30] });
    }
  </script>

  <!-- (Opcional) Cr√©ditos/ayuda -->
  <footer style="position: absolute; left: 12px; bottom: 12px; background: rgba(255,255,255,.9); padding:6px 10px; border-radius:8px; font-size:12px; border:1px solid #eee;">
    Datos de atracciones: turismo de Frankfurt y gu√≠as recientes. Marcadores con ubicaci√≥n aproximada para uso tur√≠stico. 
  </footer>
</body>
</html>
